<script src="https://cdn.tailwindcss.com"></script>
<div class="max-w-4xl mx-auto p-8">
  <header class="mb-6 text-center">
    <h1 class="text-3xl font-bold text-gray-800">Projeto ENEM: Equipe Python — Tarefas Simples</h1>
    <p class="mt-2 text-sm text-gray-600">Instruções claras para implementar 3 rotas básicas: listar questões, inserir questão e dar upvote.</p>
  </header>

  <ol class="space-y-6 list-none">

    <!-- Listar -->
    <li class="bg-white shadow rounded-2xl p-6 border border-gray-100">
      <h2 class="text-lg font-semibold text-gray-800">Tarefa 1 — Listar questões (GET)</h2>
      <p class="mt-2 text-gray-700">
        Objetivo: criar uma rota que devolve uma lista de questões. Pense nela como uma "página" de perguntas.
      </p>

      <div class="mt-3 text-sm text-gray-700 space-y-2">
        <p><strong>Endpoint sugerido:</strong> <code>GET /api/questions</code></p>
        <p><strong>Parâmetros simples:</strong> <code>page</code> (número da página), <code>per_page</code> (quantas por página), <code>search</code> (texto para buscar).</p>

        <p><strong>Exemplo de resposta:</strong></p>
        <pre class="bg-gray-50 p-3 rounded text-xs overflow-x-auto">
{
  "page": 1,
  "per_page": 10,
  "total": 42,
  "items": [
    {
      "id": 1,
      "enunciado": "Qual é a capital do Brasil?",
      "nivel_dificuldade": "facil",
      "upvotes": 3,
      "created_at": "2025-09-01T12:34:56Z"
    }
  ]
}
        </pre>

        <p class="text-gray-600">Dica simples: peça ao time de SQL uma consulta que já traga <code>LIMIT</code> e <code>OFFSET</code> para a página pedida. Se preferirem, troquem <code>page/per_page</code> por <code>limit/offset</code> — o que for mais confortável.</p>
      </div>
    </li>

    <!-- Inserir -->
    <li class="bg-white shadow rounded-2xl p-6 border border-gray-100">
      <h2 class="text-lg font-semibold text-gray-800">Tarefa 2 — Inserir nova questão (POST)</h2>
      <p class="mt-2 text-gray-700">
        Objetivo: criar uma rota que salva uma nova questão no banco. Vai receber um JSON com a questão e as alternativas.
      </p>

      <div class="mt-3 text-sm text-gray-700 space-y-2">
        <p><strong>Endpoint sugerido:</strong> <code>POST /api/questions</code></p>

        <p><strong>Exemplo de payload (envio):</strong></p>
        <pre class="bg-gray-50 p-3 rounded text-xs overflow-x-auto">
{
  "enunciado": "Qual é a capital do Brasil?",
  "alternativas": [
    {"id":"A","texto":"São Paulo"},
    {"id":"B","texto":"Brasília"},
    {"id":"C","texto":"Rio de Janeiro"},
    {"id":"D","texto":"Salvador"}
  ],
  "resposta_correta": "B",
  "nivel_dificuldade": "facil",
  "competencia": "Geografia"
}
        </pre>

        <p><strong>Exemplo de resposta (sucesso):</strong></p>
        <pre class="bg-gray-50 p-3 rounded text-xs overflow-x-auto">
HTTP/1.1 201 Created
Location: /api/questions/45
{
  "id": 45,
  "message": "Questão criada com sucesso"
}
        </pre>

        <p class="text-gray-600">Passos simples para implementar:</p>
        <ul class="pl-6 list-disc text-gray-700">
          <li>Validar que o campo <code>enunciado</code> existe e não está vazio.</li>
          <li>Verificar que existem 4 alternativas com ids A/B/C/D.</li>
          <li>Confirmar que <code>resposta_correta</code> corresponde a uma das alternativas.</li>
          <li>Salvar em duas tabelas: <code>questoes</code> e <code>alternativas</code>. Peça ao time SQL o exemplo abaixo.</li>
        </ul>

        <p class="text-gray-600">SQL mínimo de exemplo (para alinhar com o time SQL):</p>
        <pre class="bg-gray-50 p-3 rounded text-xs overflow-x-auto">
-- insere a questão e em seguida as alternativas (exemplo simples)
INSERT INTO questoes (enunciado, resposta_correta, nivel_dificuldade, competencia, upvotes, created_at)
VALUES (..., ..., ..., ..., 0, NOW());

-- depois insere 4 linhas em alternativas ligadas ao id da questão
        </pre>
      </div>
    </li>

    <!-- Upvote -->
    <li class="bg-white shadow rounded-2xl p-6 border border-gray-100">
      <h2 class="text-lg font-semibold text-gray-800">Tarefa 3 — Dar upvote em uma questão (POST)</h2>
      <p class="mt-2 text-gray-700">
        Objetivo: aumentar em 1 o contador de upvotes de uma questão quando alguém clicar em "Curtir".
      </p>

      <div class="mt-3 text-sm text-gray-700 space-y-2">
        <p><strong>Endpoint sugerido:</strong> <code>POST /api/questions/{id}/upvote</code></p>

        <p><strong>Exemplo de resposta:</strong></p>
        <pre class="bg-gray-50 p-3 rounded text-xs overflow-x-auto">
{
  "id": 1,
  "upvotes": 4
}
        </pre>

        <p class="text-gray-600">Como fazer de forma simples:</p>
        <ol class="pl-6 list-decimal text-gray-700">
          <li>Receba o <code>id</code> da questão na URL.</li>
          <li>Execute um comando que soma 1 ao campo <code>upvotes</code> (o time SQL pode usar: <code>UPDATE questoes SET upvotes = upvotes + 1 WHERE id = ?</code>).</li>
          <li>Retorne o novo valor de upvotes ao cliente.</li>
        </ol>

        <p class="text-gray-600">Observação prática: este método funciona bem e é simples — perfeito para quem está começando.</p>
      </div>
    </li>

    <!-- Contrato JSON -->
    <li class="bg-white shadow rounded-2xl p-6 border border-gray-100">
      <h2 class="text-lg font-semibold text-gray-800">Contrato simples entre Python e SQL</h2>
      <p class="mt-2 text-gray-700">Use este JSON como exemplo para testes e para combinar com a equipe de banco de dados.</p>

      <pre class="bg-gray-50 p-3 rounded text-xs overflow-x-auto">
-- Tabelas esperadas (resumo)
TABLE questoes (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  enunciado TEXT,
  resposta_correta CHAR(1),
  nivel_dificuldade VARCHAR(10),
  competencia VARCHAR(128),
  upvotes INT DEFAULT 0,
  created_at TIMESTAMP
);

TABLE alternativas (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  questao_id BIGINT,
  alternativa_id CHAR(1),
  texto TEXT
);
      </pre>

      <p class="mt-2 text-gray-700">JSON de exemplo para testes (POST /api/questions):</p>
      <pre class="bg-gray-50 p-3 rounded text-xs overflow-x-auto">
{
  "enunciado": "Qual é a capital do Brasil?",
  "alternativas": [
    {"id":"A","texto":"São Paulo"},
    {"id":"B","texto":"Brasília"},
    {"id":"C","texto":"Rio de Janeiro"},
    {"id":"D","texto":"Salvador"}
  ],
  "resposta_correta": "B",
  "nivel_dificuldade": "facil",
  "competencia": "Geografia"
}
      </pre>
    </li>

  </ol>

  <div class="mt-6 p-4 bg-green-50 border-l-4 border-green-400 rounded">
    <h3 class="font-semibold text-gray-800">Guia rápido para quem vai implementar agora</h3>
    <ul class="pl-6 list-disc mt-2 text-gray-700">
      <li>Faça uma rota de cada vez: primeiro <strong>listar</strong>, depois <strong>inserir</strong>, por fim <strong>upvote</strong>.</li>
      <li>Teste com exemplos pequenos (use o JSON de exemplo acima).</li>
      <li>Peça ao time SQL os nomes das colunas exatas antes de gravar — use os exemplos acima como ponto de partida.</li>
      <li>Se ficar travado, copie e cole a requisição de teste no Postman/Insomnia e veja a resposta do servidor.</li>
    </ul>
  </div>
</div>
