<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Atividade de Refor√ßo</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <style>
    .fade-in {
      animation: fadeIn 0.3s ease-in;
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen py-8">
  <!-- Toast de Vit√≥ria -->
  <div id="toast-vitoria" class="hidden fixed top-4 right-4 z-50 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-4 rounded-xl shadow-2xl max-w-md transform transition-all duration-500">
    <div class="flex items-center gap-4">
      <span class="material-icons text-4xl">emoji_events</span>
      <div>
        <h3 class="font-bold text-lg">üéâ Parab√©ns!</h3>
        <p class="text-sm text-green-50">Voc√™ acertou todas as quest√µes!</p>
      </div>
      <button onclick="$('#toast-vitoria').addClass('hidden')" class="ml-4 hover:bg-white/20 rounded-full p-1">
        <span class="material-icons">close</span>
      </button>
    </div>
  </div>

  <div class="container mx-auto px-4 max-w-3xl">
    <div class="bg-white rounded-2xl shadow-2xl p-8 mb-8">
      <h1 class="text-4xl font-bold text-indigo-600 mb-2 flex items-center gap-3">
        <span class="material-icons text-5xl">quiz</span>
        Atividade de Refor√ßo
      </h1>
      <p class="text-gray-600 mb-6">Responda todas as quest√µes sem medo de errar! Voce nao sera avaliado aqui</p>
      
      <div class="flex items-center justify-between mb-6 bg-indigo-50 rounded-lg p-4">
        <div class="flex items-center gap-2">
          <span class="material-icons text-indigo-600">emoji_events</span>
          <span class="font-semibold text-gray-700">Progresso:</span>
        </div>
        <div class="text-2xl font-bold text-indigo-600">
          <span id="acertos">0</span> / <span id="total">0</span>
        </div>
      </div>
    </div>

    <div id="questoes-container"></div>
  </div>

  <script>
    const quizData = {
    "questoes": [
      {
        "id": 1,
        "enunciado": "Qual a sintaxe correta para declarar uma vari√°vel de texto (string) em Python?",
        "alternativas": [
          { "letra": "A", "texto": "nome = Maria", "correta": false },
          { "letra": "B", "texto": "nome = \"Maria\"", "correta": true },
          { "letra": "C", "texto": "string nome = \"Maria\"", "correta": false },
          { "letra": "D", "texto": "nome = (\"Maria\")", "correta": false }
        ],
        "justificativas": {
          "A": "Incorreto. Textos em Python devem sempre estar entre aspas (simples ' ou duplas \"). Sem aspas, o Python tentaria interpretar 'Maria' como outra vari√°vel.",
          "C": "Incorreto. Python √© uma linguagem de tipagem din√¢mica, o que significa que voc√™ n√£o precisa declarar o tipo da vari√°vel (como `string` ou `int`) antes de us√°-la.",
          "D": "Incorreto. Embora o uso de par√™nteses n√£o cause um erro aqui, eles s√£o desnecess√°rios para a atribui√ß√£o de uma string simples e n√£o s√£o a forma padr√£o de declara√ß√£o."
        }
      },
      {
        "id": 2,
        "enunciado": "A fun√ß√£o `input()` sempre retorna um texto. Como converter corretamente a entrada do usu√°rio para um n√∫mero inteiro e guard√°-la na vari√°vel `idade`?",
        "alternativas": [
          { "letra": "A", "texto": "idade = int(input(\"Qual sua idade?\"))", "correta": true },
          { "letra": "B", "texto": "idade = input(int(\"Qual sua idade?\"))", "correta": false },
          { "letra": "C", "texto": "idade = integer(input(\"Qual sua idade?\"))", "correta": false },
          { "letra": "D", "texto": "idade = input(\"Qual sua idade?\")", "correta": false }
        ],
        "justificativas": {
          "B": "Incorreto. A fun√ß√£o `int()` deve ser usada para converter o *resultado* da fun√ß√£o `input()`, e n√£o para ser colocada dentro dela.",
          "C": "Incorreto. A fun√ß√£o de convers√£o para inteiro em Python √© `int()`, n√£o `integer()`.",
          "D": "Incorreto. Desta forma, a vari√°vel `idade` guardaria o n√∫mero como um texto (ex: \"30\"), o que impediria a realiza√ß√£o de c√°lculos matem√°ticos, como `idade + 1`."
        }
      },
      {
        "id": 3,
        "enunciado": "Qual comando `range()` em Python gera a sequ√™ncia de n√∫meros `0, 2, 4, 6, 8`?",
        "alternativas": [
          { "letra": "A", "texto": "range(0, 9, 2)", "correta": false },
          { "letra": "B", "texto": "range(10, 2)", "correta": false },
          { "letra": "C", "texto": "range(0, 10, 2)", "correta": true },
          { "letra": "D", "texto": "range(5)", "correta": false }
        ],
        "justificativas": {
          "A": "Incorreto. O `range(inicio, fim, passo)` gera n√∫meros at√© `fim - 1`. Portanto, `range(0, 9, 2)` geraria `0, 2, 4, 6, 8`, mas o correto √© parar antes de 10.",
          "B": "Incorreto. Quando o 'passo' √© positivo (ou omitido), o n√∫mero inicial deve ser menor que o final para que a sequ√™ncia seja gerada.",
          "D": "Incorreto. `range(5)` √© um atalho para `range(0, 5, 1)`, que gera a sequ√™ncia `0, 1, 2, 3, 4`."
        }
      },
      {
        "id": 4,
        "enunciado": "No trecho `contador = 1; while contador <= 5: print(contador)`, qual linha √© crucial adicionar dentro do la√ßo para evitar um loop infinito?",
        "alternativas": [
          { "letra": "A", "texto": "contador = 1", "correta": false },
          { "letra": "B", "texto": "print(\"Fim\")", "correta": false },
          { "letra": "C", "texto": "if contador == 5: break", "correta": false },
          { "letra": "D", "texto": "contador = contador + 1", "correta": true }
        ],
        "justificativas": {
          "A": "Incorreto. Esta √© a inicializa√ß√£o da vari√°vel, que acontece *antes* do la√ßo come√ßar.",
          "B": "Incorreto. A fun√ß√£o `print()` apenas exibe um valor na tela, mas n√£o altera a vari√°vel de controle do la√ßo.",
          "C": "Incorreto. Embora um `break` possa interromper o la√ßo, a maneira fundamental de controlar um `while` √© garantir que a sua condi√ß√£o de parada seja eventualmente alcan√ßada, o que √© feito atualizando a vari√°vel de controle."
        }
      },
      {
        "id": 5,
        "enunciado": "Para enviar dados `turma=Terceir√£o` para uma URL usando o m√©todo POST com `curl`, qual √© a sintaxe correta?",
        "alternativas": [
          { "letra": "A", "texto": "curl -X POST http://url.com -d \"turma=Terceir√£o\"", "correta": true },
          { "letra": "B", "texto": "curl -P http://url.com --data \"turma=Terceir√£o\"", "correta": false },
          { "letra": "C", "texto": "curl -GET http://url.com -d (turma=Terceir√£o)", "correta": false },
          { "letra": "D", "texto": "curl -X POST http://url.com \"turma=Terceir√£o\"", "correta": false }
        ],
        "justificativas": {
          "B": "Incorreto. A flag para especificar o m√©todo √© `-X POST`, e a flag para dados √© `-d` ou `--data`. A flag `-P` n√£o √© usada para este prop√≥sito.",
          "C": "Incorreto. `-GET` n√£o √© uma flag v√°lida, e os dados devem ser passados como uma string entre aspas, n√£o par√™nteses.",
          "D": "Incorreto. Faltou a flag `-d` antes dos dados para indicar que a string \"turma=Terceir√£o\" √© o corpo da requisi√ß√£o."
        }
      },
      {
        "id": 6,
        "enunciado": "Qual comando `curl` √© usado para baixar um arquivo e salv√°-lo com o mesmo nome que ele tem no servidor?",
        "alternativas": [
          { "letra": "A", "texto": "curl -o https://site.com/arquivo.zip", "correta": false },
          { "letra": "B", "texto": "curl -O https://site.com/arquivo.zip", "correta": true },
          { "letra": "C", "texto": "curl --save https://site.com/arquivo.zip", "correta": false },
          { "letra": "D", "texto": "curl -S https://site.com/arquivo.zip", "correta": false }
        ],
        "justificativas": {
          "A": "Incorreto. A flag `-o` (letra 'o' min√∫scula) salva o arquivo, mas exige que voc√™ especifique um nome para ele na frente (ex: `curl -o meu_arquivo.zip ...`).",
          "C": "Incorreto. A flag `--save` n√£o √© um comando padr√£o do `curl` para salvar arquivos.",
          "D": "Incorreto. A flag `-S` √© usada para mostrar erros de forma silenciosa, sem suprimir a sa√≠da do resultado."
        }
      },
      {
        "id": 7,
        "enunciado": "Qual √© o erro mais perigoso no comando `UPDATE LIVROS SET Status = 'Perdido';` que poderia afetar toda a tabela?",
        "alternativas": [
          { "letra": "A", "texto": "A palavra 'Perdido' deveria estar em letras min√∫sculas.", "correta": false },
          { "letra": "B", "texto": "Faltou a cl√°usula `WHERE` para especificar qual livro atualizar.", "correta": true },
          { "letra": "C", "texto": "Deveria ser `CHANGE` em vez de `SET`.", "correta": false },
          { "letra": "D", "texto": "O nome da tabela `LIVROS` est√° incorreto.", "correta": false }
        ],
        "justificativas": {
          "A": "Incorreto. A sensibilidade a mai√∫sculas/min√∫sculas para dados depende da configura√ß√£o do banco, mas este n√£o √© o erro perigoso da estrutura do comando.",
          "C": "Incorreto. A palavra-chave correta para definir novos valores em um `UPDATE` √© `SET`.",
          "D": "Incorreto. Assumindo que o nome da tabela est√° correto, o perigo reside na falta de um filtro para a atualiza√ß√£o."
        }
      },
      {
        "id": 8,
        "enunciado": "Para listar TODOS os clientes e seus respectivos pedidos, incluindo clientes que NUNCA fizeram um pedido, qual `JOIN` √© o mais apropriado?",
        "alternativas": [
          { "letra": "A", "texto": "INNER JOIN", "correta": false },
          { "letra": "B", "texto": "ALL JOIN", "correta": false },
          { "letra": "C", "texto": "LEFT JOIN", "correta": true },
          { "letra": "D", "texto": "CROSS JOIN", "correta": false }
        ],
        "justificativas": {
          "A": "Incorreto. O `INNER JOIN` retornaria apenas os clientes que t√™m correspond√™ncia na tabela de pedidos, excluindo aqueles que nunca compraram.",
          "B": "Incorreto. `ALL JOIN` n√£o √© uma sintaxe padr√£o em SQL para este prop√≥sito.",
          "D": "Incorreto. O `CROSS JOIN` criaria uma combina√ß√£o de cada cliente com cada pedido, resultando em dados incorretos e massivos (produto cartesiano)."
        }
      },
      {
        "id": 9,
        "enunciado": "Numa estrutura de blog com tabelas `Autores` (com `id_autor` PK) e `Posts`, qual √© a fun√ß√£o da coluna `id_autor` dentro da tabela `Posts`?",
        "alternativas": [
          { "letra": "A", "texto": "√â a Chave Prim√°ria (PK) da tabela `Posts`.", "correta": false },
          { "letra": "B", "texto": "√â uma Chave Estrangeira (FK) que referencia a tabela `Autores`.", "correta": true },
          { "letra": "C", "texto": "√â apenas um campo de texto para guardar o nome do autor.", "correta": false },
          { "letra": "D", "texto": "√â um √≠ndice para acelerar a busca por posts.", "correta": false }
        ],
        "justificativas": {
          "A": "Incorreto. A Chave Prim√°ria da tabela `Posts` seria uma coluna que identifica unicamente cada post, como `id_post`.",
          "C": "Incorreto. Para manter a integridade dos dados, a Chave Estrangeira armazena o ID (um n√∫mero), e n√£o o nome do autor (um texto), para criar o v√≠nculo.",
          "D": "Incorreto. Embora uma Chave Estrangeira seja frequentemente indexada para melhorar o desempenho, sua fun√ß√£o principal √© estabelecer o relacionamento entre as tabelas."
        }
      },
      {
        "id": 10,
        "enunciado": "Qual comando `SELECT` busca o `Titulo` e `Autor` da tabela `LIVROS` apenas para os livros cujo autor √© 'Machado de Assis'?",
        "alternativas": [
          { "letra": "A", "texto": "SELECT Titulo, Autor FROM LIVROS WHERE Autor = 'Machado de Assis';", "correta": true },
          { "letra": "B", "texto": "SELECT Titulo, Autor FROM LIVROS FILTER Autor = 'Machado de Assis';", "correta": false },
          { "letra": "C", "texto": "GET Titulo, Autor FROM LIVROS WHERE Autor = 'Machado de Assis';", "correta": false },
          { "letra": "D", "texto": "SELECT Titulo, Autor ON LIVROS WITH Autor = 'Machado de Assis';", "correta": false }
        ],
        "justificativas": {
          "B": "Incorreto. A cl√°usula correta para filtrar os resultados de uma consulta em SQL √© `WHERE`, n√£o `FILTER`.",
          "C": "Incorreto. O comando padr√£o para buscar (selecionar) dados em SQL √© `SELECT`, n√£o `GET`.",
          "D": "Incorreto. A sintaxe para especificar a tabela √© `FROM nome_da_tabela` e para filtrar √© `WHERE condicao`."
        }
      }
    ]
  };

    let acertosCount = 0;
    const questoesRespondidas = {};

    function renderizarQuestoes() {
      const container = $('#questoes-container');
      $('#total').text(quizData.questoes.length);

      quizData.questoes.forEach((questao, index) => {
        const questaoHtml = `
          <div class="bg-white rounded-2xl shadow-xl p-8 mb-6 questao-card" data-questao-id="${questao.id}">
            <div class="flex items-start gap-3 mb-4">
              <span class="material-icons text-3xl text-indigo-500">help_outline</span>
              <h2 class="text-xl font-bold text-gray-800">${index + 1}. ${questao.enunciado}</h2>
            </div>
            
            <div class="space-y-3 alternativas-container">
              ${questao.alternativas.map((alt, altIndex) => `
                <div class="flex items-stretch gap-3">
                  <div class="flex items-center justify-center w-10 h-auto">
                    <span class="font-bold text-2xl text-indigo-600">${alt.letra}</span>
                  </div>
                  <button class="alternativa flex-1 text-left p-4 rounded-lg border-2 border-gray-200 hover:border-indigo-400 hover:bg-indigo-50 transition-all duration-200 flex items-center gap-3" data-questao-id="${questao.id}" data-correta="${alt.correta}" data-letra="${alt.letra}">
                    <span class="material-icons text-gray-400 icon-alternativa">radio_button_unchecked</span>
                    <span class="flex-1 font-medium text-gray-700">${alt.texto}</span>
                  </button>
                </div>
              `).join('')}
            </div>

            <div class="justificativa-container mt-4 hidden">
              <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg fade-in">
                <div class="flex items-start gap-3">
                  <span class="material-icons text-red-500 mt-1">error_outline</span>
                  <div>
                    <h3 class="font-bold text-red-800 mb-1">Resposta Incorreta</h3>
                    <p class="text-red-700 justificativa-texto"></p>
                  </div>
                </div>
              </div>
            </div>

            <div class="sucesso-container mt-4 hidden">
              <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg fade-in">
                <div class="flex items-center gap-3">
                  <span class="material-icons text-green-500">check_circle</span>
                  <p class="font-bold text-green-800">Resposta Correta! üéâ</p>
                </div>
              </div>
            </div>
          </div>
        `;
        container.append(questaoHtml);
      });
    }

    function verificarVitoria() {
      if (acertosCount === quizData.questoes.length) {
        setTimeout(() => {
          const duration = 3 * 1000;
          const end = Date.now() + duration;

          (function frame() {
            confetti({
              particleCount: 5,
              angle: 60,
              spread: 55,
              origin: { x: 0 },
              colors: ['#6366f1', '#8b5cf6', '#ec4899', '#f59e0b']
            });
            confetti({
              particleCount: 5,
              angle: 120,
              spread: 55,
              origin: { x: 1 },
              colors: ['#6366f1', '#8b5cf6', '#ec4899', '#f59e0b']
            });

            if (Date.now() < end) {
              requestAnimationFrame(frame);
            }
          }());

          // Mostra toast de vit√≥ria
          $('#toast-vitoria').removeClass('hidden').addClass('animate-bounce');
          setTimeout(() => {
            $('#toast-vitoria').removeClass('animate-bounce');
          }, 1000);

          // Auto-esconde ap√≥s 5 segundos
          setTimeout(() => {
            $('#toast-vitoria').addClass('hidden');
          }, 5000);
        }, 300);
      }
    }

    $(document).on('click', '.alternativa', function() {
      const btn = $(this);
      const questaoId = btn.data('questao-id');
      const correta = btn.data('correta');
      const letra = btn.data('letra');
      const questaoCard = btn.closest('.questao-card');
      const questao = quizData.questoes.find(q => q.id === questaoId);

      // Limpa estados anteriores
      questaoCard.find('.alternativa').removeClass('bg-green-100 border-green-500 bg-red-100 border-red-500');
      questaoCard.find('.icon-alternativa').text('radio_button_unchecked').removeClass('text-green-500 text-red-500').addClass('text-gray-400');
      questaoCard.find('.justificativa-container').addClass('hidden');
      questaoCard.find('.sucesso-container').addClass('hidden');

      if (correta) {
        btn.addClass('bg-green-100 border-green-500');
        btn.find('.icon-alternativa').text('check_circle').removeClass('text-gray-400').addClass('text-green-500');
        questaoCard.find('.sucesso-container').removeClass('hidden');

        if (!questoesRespondidas[questaoId]) {
          acertosCount++;
          questoesRespondidas[questaoId] = true;
          $('#acertos').text(acertosCount);
          verificarVitoria();
        }
      } else {
        btn.addClass('bg-red-100 border-red-500');
        btn.find('.icon-alternativa').text('cancel').removeClass('text-gray-400').addClass('text-red-500');
        
        const justificativa = questao.justificativas[letra];
        questaoCard.find('.justificativa-texto').text(justificativa);
        questaoCard.find('.justificativa-container').removeClass('hidden');
      }
    });

    $(document).ready(function() {
      renderizarQuestoes();
    });
  </script>
</body>
</html>